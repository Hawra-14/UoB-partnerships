<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University of Bahrain - Partnerships</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        .chart-filter-buttons {
            display: flex;
            gap: 0.5rem;
            background: white;
            padding: 0.4rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .chart-filter-btn {
            padding: 0.6rem 1.2rem;
            border: none;
            background: transparent;
            color: #666;
            font-size: 0.9rem;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .chart-filter-btn:hover {
            background: #f0f0f0;
            color: #003366;
        }

        .chart-filter-btn.active {
            background: #003366;
            color: white;
        }

        .chart-filter-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.8s, height 0.8s;
        }

        .chart-filter-btn:active::after {
            width: 200px;
            height: 200px;
        }

        /* Chart animation */
        .chart-canvas-wrapper {
            width: 100%;
            height: 400px;
            position: relative;
        }

        .chart-canvas-wrapper canvas {
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .chart-canvas-wrapper canvas.chart-updating {
            opacity: 0.4;
            transform: scale(0.98);
        }

        /* Stats number animation */
        .chart-stat-number {
            transition: all 0.5s ease;
        }

        .chart-stat-number.updating {
            transform: scale(0.9);
            opacity: 0.5;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <!-- Left Side: Logo + Title Together -->
            <div class="nav-left">
                <div class="logo-space" title="Logo">
                    <img src="../images/UOB-new-logo.png" alt="University of Bahrain" />
                </div>
                <div class="nav-title">
                    <h2>University of Bahrain</h2>
                    <p class="nav-subtitle">Vice President for Partnerships and Development</p>
                </div>
            </div>

            <!-- Right Side: Navigation Links -->
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="Home.html" class="nav-link active">HOME</a>
                </li>
                <li class="nav-item">
                    <a href="partners.html" class="nav-link">PARTNERSHIP</a>
                </li>
                <li class="nav-item">
                    <a href="Contact.html" class="nav-link">CONTACT</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1>Building Tomorrow's<br>Leaders Together</h1>
            <p class="hero-subtitle">Empowering excellence through strategic collaboration, fostering
                innovation, and advancing knowledge across borders</p>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <a href="partners.html" class="btn-primary">Explore Partners</a>
                <a href="Contact.html" class="btn-pro-secondary">Partner With Us</a>
            </div>

            <div class="hero-stats">
                <div class="hero-stat-item">
                    <div class="hero-stat-number">50+</div>
                    <div class="hero-stat-label">Partner Institutions</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-number">30+</div>
                    <div class="hero-stat-label">Countries Worldwide</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-number">150+</div>
                    <div class="hero-stat-label">Active Agreements</div>
                </div>
                <div class="hero-stat-item">
                    <div class="hero-stat-number">1000+</div>
                    <div class="hero-stat-label">Students Exchanged</div>
                </div>
            </div>
        </div>
    </section>

    <!-- What Are Partnerships -->
    <section class="main-section" style="background: white;">
        <div class="container">
            <div class="section-header">
                <h2 class="section-heading">What Are Partnerships?</h2>
                <p class="section-description">Strategic collaborations that create opportunities for academic
                    exchange, research innovation, and global impact</p>
            </div>

            <div class="featured-section">
                <div class="featured-content">
                    <div>
                        <h3 style="font-size: 2rem; font-weight: 700; color: #001a33; margin-bottom: 2rem;">
                            Collaborative Excellence</h3>
                        <p style="font-size: 1.1rem; color: #666; line-height: 1.8; margin-bottom: 1.5rem;">
                            Partnerships are collaborative agreements between the University of Bahrain
                            and leading institutions worldwide. These partnerships create opportunities for academic
                            exchange, joint research initiatives, student mobility, faculty development, and resource
                            sharing.
                        </p>
                        <p style="font-size: 1.1rem; color: #666; line-height: 1.8;">
                            Through these strategic alliances, we enhance the quality of education, expand research
                            capabilities, and prepare our students to thrive in an interconnected global society.
                        </p>
                    </div>
                    <div class="featured-image">
                        <img src="../images/featured-image.jpeg" />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Vision & Goals -->
    <section class="main-section vision-section">
        <div class="container">
            <div class="section-header">
                <div class="section-eyebrow">Our Vision</div>
                <h2 class="section-heading">Strategic Direction & Goals</h2>
            </div>

            <div class="vision-goals-grid">
                <!-- Vision Card - Left Side -->
                <div class="vision-card">
                    <h3 class="vision-title">Our Vision</h3>
                    <p class="vision-text">
                        A Bahraini higher education institution, leading in education, building a knowledge society,
                        fostering entrepreneurship, and enhancing sustainability, that aims to be one of the best
                        academic
                        institutions in the region, contributing to the Kingdom of Bahrain's Economic Vision 2030.
                    </p>
                </div>

                <!-- Goals List - Right Side -->
                <div class="goals-list">
                    <div class="goal-card">
                        <div class="card-icon-pro">01</div>
                        <h3 class="card-title">Global Excellence</h3>
                        <p class="card-text">Enhance academic quality through collaboration with world-class
                            institutions</p>
                    </div>

                    <div class="goal-card">
                        <div class="card-icon-pro">02</div>
                        <h3 class="card-title">Research Innovation</h3>
                        <p class="card-text">Advance cutting-edge research through collaboration</p>
                    </div>

                    <div class="goal-card">
                        <div class="card-icon-pro">03</div>
                        <h3 class="card-title">Student Mobility</h3>
                        <p class="card-text">Provide students with global learning experiences</p>
                    </div>

                    <div class="goal-card">
                        <div class="card-icon-pro">04</div>
                        <h3 class="card-title">Faculty Development</h3>
                        <p class="card-text">Support faculty growth through exchange</p>
                    </div>

                    <div class="goal-card">
                        <div class="card-icon-pro">05</div>
                        <h3 class="card-title">Sustainable Impact</h3>
                        <p class="card-text">Contribute to UN Sustainable Development Goals</p>
                    </div>

                    <div class="goal-card">
                        <div class="card-icon-pro">06</div>
                        <h3 class="card-title">Knowledge Exchange</h3>
                        <p class="card-text">Foster cross-cultural understanding and learning</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Types of Partnerships -->
    <section class="main-section partnership-types-section">
        <div class="container">
            <div class="section-header">
                <div class="section-eyebrow">Partnership Models</div>
                <h2 class="section-heading">Types of Partnerships</h2>
            </div>

            <div class="partnership-types-scroll">
                <div class="card-type">
                    <div class="card-icon">
                        <img src="../images/exchange.png" alt="Academic Exchange Icon" />
                    </div>
                    <h3 class="card-title">Academic Exchange</h3>
                    <p class="card-text">Student and faculty exchange programs promoting cultural understanding</p>
                    <ul class="list-pro">
                        <li>Student exchange programs</li>
                        <li>Faculty teaching exchanges</li>
                        <li>Visiting scholar programs</li>
                    </ul>
                </div>

                <div class="card-type">
                    <div class="card-icon">
                        <img src="../images/study.png" alt="Research Collaboration Icon" />
                    </div>
                    <h3 class="card-title">Research Collaboration</h3>
                    <p class="card-text">Joint research initiatives and collaborative publications</p>
                    <ul class="list-pro">
                        <li>Joint research projects</li>
                        <li>Co-authored publications</li>
                        <li>Shared research facilities</li>
                    </ul>
                </div>

                <div class="card-type">
                    <div class="card-icon">
                        <img src="../images/degree.png" alt="Dual Degree Programs Icon" />
                    </div>
                    <h3 class="card-title">Dual Degree Programs</h3>
                    <p class="card-text">Collaborative programs offering degrees from both institutions</p>
                    <ul class="list-pro">
                        <li>Joint degree programs</li>
                        <li>Double degree offerings</li>
                        <li>Articulation agreements</li>
                    </ul>
                </div>

                <div class="card-type">
                    <div class="card-icon">
                        <img src="../images/mou.png" alt="MOU Agreements Icon" />
                    </div>
                    <h3 class="card-title">MOU Agreements</h3>
                    <p class="card-text">Framework agreements for future collaboration</p>
                    <ul class="list-pro">
                        <li>Strategic partnerships</li>
                        <li>Institutional cooperation</li>
                        <li>Resource sharing</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Partnership Growth Chart Section -->
    <section class="main-section chart-section" style="background: #f8f9fa;">
        <div class="container">
            <div class="section-header">
                <div class="section-eyebrow">Our Growth Story</div>
                <h2 class="section-heading">Partnership Growth Over the Years</h2>
                <p class="section-description">Tracking our journey of collaboration and academic excellence</p>
            </div>

            <div class="chart-layout-wrapper">
                <!-- Chart Container - Left Side -->
                <div class="chart-container-wrapper">
                    <!-- Chart Title and Filters -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <h3 class="chart-title" style="margin-bottom: 0.3rem;">Partnership Growth Timeline</h3>
                            <p class="chart-subtitle" id="chart-range-label">Annual growth from 2000 to 2026</p>
                        </div>

                        <!-- Filter Buttons -->
                        <div class="chart-filter-buttons">
                            <button class="chart-filter-btn" data-range="5" title="Last 5 years">5Y</button>
                            <button class="chart-filter-btn" data-range="10" title="Last 10 years">10Y</button>
                            <button class="chart-filter-btn" data-range="15" title="Last 15 years">15Y</button>
                            <button class="chart-filter-btn active" data-range="all" title="All years">All</button>
                        </div>
                    </div>

                    <!-- Chart Canvas -->
                    <div class="chart-canvas-wrapper">
                        <canvas id="partnershipChart"></canvas>
                    </div>
                </div>

                <!-- Quick Stats - Right Side -->
                <div class="chart-stats-grid">
                    <div class="chart-stat-card">
                        <div class="chart-stat-number" id="growthPercentage">0%</div>
                        <div class="chart-stat-label">Growth in Range</div>
                    </div>
                    <div class="chart-stat-card">
                        <div class="chart-stat-number" id="annualAverage">0</div>
                        <div class="chart-stat-label">Avg. Annually</div>
                    </div>
                    <div class="chart-stat-card">
                        <div class="chart-stat-number" id="peakYear">-</div>
                        <div class="chart-stat-label">Peak Growth Year</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits - Tab System -->
    <section class="main-section" style="background: #f8f9fa;">
        <div class="container">
            <div class="section-header">
                <div class="section-eyebrow">Value Proposition</div>
                <h2 class="section-heading">Benefits & Value</h2>
                <p class="section-description">Discover how our partnerships create value for all stakeholders</p>
            </div>

            <div class="tabs-pro">
                <div class="tab-nav-pro">
                    <button class="tab-button-pro active" data-tab="students-pro">Students</button>
                    <button class="tab-button-pro" data-tab="faculty-pro">Faculty</button>
                    <button class="tab-button-pro" data-tab="university-pro">University</button>
                    <button class="tab-button-pro" data-tab="industry-pro">Industry</button>
                    <button class="tab-button-pro" data-tab="community-pro">Community</button>
                </div>

                <div class="tab-panel-pro active" id="students-pro">
                    <div class="grid-pro-4">
                        <div class="goal-card">
                            <i class="fas fa-globe"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Global Exposure</h4>
                            <p class="card-text">Study abroad opportunities and learning experiences
                            </p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-certificate"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Enhanced Credentials</h4>
                            <p class="card-text">Access to dual degrees and internationally recognized
                                qualifications</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-users"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Cultural Exchange</h4>
                            <p class="card-text">Build international networks and cross-cultural competencies</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-briefcase"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Career Opportunities</h4>
                            <p class="card-text">Enhanced employability through international experience</p>
                        </div>
                    </div>
                </div>

                <div class="tab-panel-pro" id="faculty-pro">
                    <div class="grid-pro-4">
                        <div class="goal-card">
                            <i class="fas fa-search"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Research Collaboration</h4>
                            <p class="card-text">Access to international research networks and publications</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Professional Development</h4>
                            <p class="card-text">Teaching exchanges and pedagogical approaches</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-flask"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Resource Sharing</h4>
                            <p class="card-text">Access to specialized equipment and facilities</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-award"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Academic Recognition</h4>
                            <p class="card-text">Enhanced reputation through collaboration</p>
                        </div>
                    </div>
                </div>

                <div class="tab-panel-pro" id="university-pro">
                    <div class="grid-pro-4">
                        <div class="goal-card">
                            <i class="fas fa-trophy"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Global Rankings</h4>
                            <p class="card-text">Improved international standing and recognition</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-book-open"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Academic Quality</h4>
                            <p class="card-text">Enhanced curriculum through best practices</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-handshake"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Strategic Alliances</h4>
                            <p class="card-text">Strong relationships with global institutions</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-chart-line"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Institutional Growth</h4>
                            <p class="card-text">Expanded resources and capabilities</p>
                        </div>
                    </div>
                </div>

                <div class="tab-panel-pro" id="industry-pro">
                    <div class="grid-pro-4">
                        <div class="goal-card">
                            <i class="fas fa-user-graduate"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Talent Pipeline</h4>
                            <p class="card-text">Access to skilled graduates and talent</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-lightbulb"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Innovation</h4>
                            <p class="card-text">Collaborative research and development</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-cogs"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Applied Research</h4>
                            <p class="card-text">Solutions to real-world challenges</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-building"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Brand Enhancement</h4>
                            <p class="card-text">Positive visibility through partnerships</p>
                        </div>
                    </div>
                </div>

                <div class="tab-panel-pro" id="community-pro">
                    <div class="grid-pro-4">
                        <div class="goal-card">
                            <i class="fas fa-hands-helping"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Social Impact</h4>
                            <p class="card-text">Community development through service-learning</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-graduation-cap"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Educational Access</h4>
                            <p class="card-text">Expanded educational opportunities</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-seedling"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Sustainable Development</h4>
                            <p class="card-text">Supporting UN SDGs and initiatives</p>
                        </div>
                        <div class="goal-card">
                            <i class="fas fa-heart"></i>
                            <h4 style="font-size: 1.2rem; font-weight: 700; color: #001a33; margin-bottom: 0.8rem;">
                                Social Welfare</h4>
                            <p class="card-text">Health and economic development</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="main-section" style="background: white;">
        <div class="container">
            <div class="section-header">
                <div class="section-eyebrow">FAQ</div>
                <h2 class="section-heading">Frequently Asked Questions</h2>
            </div>

            <div class="accordion-pro">
                <div class="accordion-item-pro">
                    <div class="accordion-header-pro">
                        <h4>What types of partnerships does UoB engage in?</h4>
                        <div class="accordion-icon-pro"><i class="fas fa-chevron-down"></i></div>
                    </div>
                    <div class="accordion-body-pro">
                        <div class="accordion-content-pro">
                            We engage in academic exchanges, research collaborations, dual degree programs, MOUs,
                            industry partnerships, and community engagement initiatives tailored to specific objectives.
                        </div>
                    </div>
                </div>
                <div class="accordion-item-pro">
                    <div class="accordion-header-pro">
                        <h4>Can we start with a smaller collaboration first?</h4>
                        <div class="accordion-icon-pro"><i class="fas fa-chevron-down"></i></div>
                    </div>
                    <div class="accordion-body-pro">
                        <div class="accordion-content-pro">
                            Absolutely! We encourage pilot projects or smaller initiatives. Many successful partnerships
                            began with joint research, faculty exchanges, or workshops.
                        </div>
                    </div>
                </div>
                <div class="accordion-item-pro">
                    <div class="accordion-header-pro">
                        <h4>How does UoB ensure partnership quality?</h4>
                        <div class="accordion-icon-pro"><i class="fas fa-chevron-down"></i></div>
                    </div>
                    <div class="accordion-body-pro">
                        <div class="accordion-content-pro">
                            We conduct thorough evaluations, ensure strategic alignment, establish clear metrics, and
                            regularly review outcomes with ongoing communication mechanisms.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 University of Bahrain. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Tab System
        document.querySelectorAll('.tab-button-pro').forEach(button => {
            button.addEventListener('click', () => {
                const targetTab = button.getAttribute('data-tab');
                document.querySelectorAll('.tab-button-pro').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-panel-pro').forEach(panel => panel.classList.remove('active'));
                button.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
            });
        });

        // Accordion
        document.querySelectorAll('.accordion-header-pro').forEach(header => {
            header.addEventListener('click', () => {
                const item = header.parentElement;
                const isActive = item.classList.contains('active');
                document.querySelectorAll('.accordion-item-pro').forEach(i => i.classList.remove('active'));
                if (!isActive) {
                    item.classList.add('active');
                }
            });
        });

        // PARTNERSHIP GROWTH CHART WITH FILTERS
        const ctx = document.getElementById('partnershipChart');

        // Dataset from 2000 to 2026
        const fullPartnershipData = {
            labels: ['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009',
                '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019',
                '2020', '2021', '2022', '2023', '2024', '2025', '2026'],
            data: [2, 3, 5, 7, 9, 12, 15, 18, 22, 26,
                30, 35, 40, 46, 52, 60, 70, 82, 95, 110,
                128, 142, 155, 165, 173, 180, 185]
        };

        let chart;

        function createChart(labels, data) {
            const chartData = {
                labels: labels,
                datasets: [{
                    label: 'Total Partnerships',
                    data: data,
                    backgroundColor: 'rgba(0, 51, 102, 0.1)',
                    borderColor: '#003366',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#003366',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    pointHoverBackgroundColor: '#003366',
                    pointHoverBorderColor: '#fff',
                    pointHoverBorderWidth: 3
                }]
            };

            const config = {
                type: 'line',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    devicePixelRatio: window.devicePixelRatio || 2,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 26, 51, 0.95)',
                            titleFont: {
                                size: 14,
                                weight: 'bold',
                                family: "'Inter', sans-serif"
                            },
                            bodyFont: {
                                size: 13,
                                family: "'Inter', sans-serif"
                            },
                            padding: 12,
                            cornerRadius: 8,
                            displayColors: false,
                            callbacks: {
                                label: function (context) {
                                    return 'Partnerships: ' + context.parsed.y;
                                }
                            }
                        }
                    },
                    layout: {
                        padding: {
                            top: 10,
                            bottom: 10,
                            left: 10,
                            right: 10
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    size: 12,
                                    family: "'Inter', sans-serif"
                                },
                                color: '#666',
                                padding: 10
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)',
                                drawBorder: false
                            },
                            title: {
                                display: true,
                                text: 'Number of Partnerships',
                                font: {
                                    size: 13,
                                    weight: '600',
                                    family: "'Inter', sans-serif"
                                },
                                color: '#001a33'
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    size: 12,
                                    family: "'Inter', sans-serif"
                                },
                                color: '#666',
                                padding: 10
                            },
                            grid: {
                                display: false,
                                drawBorder: false
                            },
                            title: {
                                display: true,
                                text: 'Year',
                                font: {
                                    size: 13,
                                    weight: '600',
                                    family: "'Inter', sans-serif"
                                },
                                color: '#001a33'
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            };

            return new Chart(ctx, config);
        }

        // Filter data based on range
        function filterData(range) {
            let labels, data, startYear, endYear;

            if (range === 'all') {
                labels = fullPartnershipData.labels;
                data = fullPartnershipData.data;
                startYear = labels[0];
                endYear = labels[labels.length - 1];
            } else {
                const yearsToShow = parseInt(range);
                labels = fullPartnershipData.labels.slice(-yearsToShow);
                data = fullPartnershipData.data.slice(-yearsToShow);
                startYear = labels[0];
                endYear = labels[labels.length - 1];
            }

            // Update chart range label
            document.getElementById('chart-range-label').textContent =
                `Annual growth from ${startYear} to ${endYear}`;

            return { labels, data };
        }

        // Animate number counting
        function animateNumber(element, start, end, duration = 1200) {
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;

            element.classList.add('updating');

            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                    element.classList.remove('updating');
                }

                // Format the number
                if (element.id === 'growthPercentage') {
                    element.textContent = Math.round(current) + '%';
                } else if (element.id === 'annualAverage') {
                    element.textContent = Math.round(current);
                } else {
                    element.textContent = current;
                }
            }, 16);
        }

        // Calculate and update statistics with animation
        function calculateDynamicStats(labels, data) {
            // Calculate Growth Percentage
            const firstYear = data[0];
            const lastYear = data[data.length - 1];
            const growthPercentage = Math.round(((lastYear - firstYear) / firstYear) * 100);

            // Calculate Average
            let totalGrowth = 0;
            for (let i = 1; i < data.length; i++) {
                totalGrowth += (data[i] - data[i - 1]);
            }
            const annualAverage = Math.round(totalGrowth / (data.length - 1));

            // Find Peak Year
            let maxGrowth = 0;
            let peakYearIndex = 0;
            for (let i = 1; i < data.length; i++) {
                const yearGrowth = data[i] - data[i - 1];
                if (yearGrowth > maxGrowth) {
                    maxGrowth = yearGrowth;
                    peakYearIndex = i;
                }
            }
            const peakYear = labels[peakYearIndex];

            // Get current values
            const currentGrowth = parseInt(document.getElementById('growthPercentage').textContent) || 0;
            const currentAverage = parseInt(document.getElementById('annualAverage').textContent) || 0;

            // Animate the numbers
            animateNumber(document.getElementById('growthPercentage'), currentGrowth, growthPercentage, 1200);
            animateNumber(document.getElementById('annualAverage'), currentAverage, annualAverage, 1200);

            // Peak year fades in
            const peakYearElement = document.getElementById('peakYear');
            peakYearElement.classList.add('updating');
            setTimeout(() => {
                peakYearElement.textContent = peakYear;
                peakYearElement.classList.remove('updating');
            }, 500);
        }

        // Update chart with filtered data
        function updateChart(range) {
            const canvas = document.getElementById('partnershipChart');

            // Add animation class
            canvas.classList.add('chart-updating');

            setTimeout(() => {
                const { labels, data } = filterData(range);

                // Update chart data
                chart.data.labels = labels;
                chart.data.datasets[0].data = data;
                chart.update({
                    duration: 1000,
                    easing: 'easeInOutQuart'
                });

                // Update statistics with animation
                calculateDynamicStats(labels, data);

                // Remove animation class
                setTimeout(() => {
                    canvas.classList.remove('chart-updating');
                }, 300);
            }, 250);
        }

        // Initialize chart with all data
        const initialData = filterData('all');
        chart = createChart(initialData.labels, initialData.data);
        calculateDynamicStats(initialData.labels, initialData.data);

        // Filter button event listeners
        document.querySelectorAll('.chart-filter-btn').forEach(button => {
            button.addEventListener('click', () => {
                // Update active state
                document.querySelectorAll('.chart-filter-btn').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                // Update chart
                const range = button.getAttribute('data-range');
                updateChart(range);
            });
        });
    </script>
</body>

</html>